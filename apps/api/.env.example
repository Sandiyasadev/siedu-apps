# ============================================
# Siedu API - Environment Configuration
# Copy this file to .env and fill in the values
# ============================================

# ============================================
# Server
# ============================================
API_PORT=8080
NODE_ENV=production

# ============================================
# Database
# Contoh Supabase: postgres://user:pass@db.xxx.supabase.co:5432/postgres
# Contoh Local:    postgres://postgres:postgres@localhost:5432/appdb
# ============================================
DATABASE_URL=postgres://postgres:postgres@localhost:5432/appdb

# ============================================
# CORS Origin
# URL frontend dashboard (CloudFront / domain custom)
# ============================================
CORS_ORIGIN=https://dashboard.yourdomain.com

# ============================================
# JWT Authentication
# ============================================
JWT_SECRET=GANTI-DENGAN-STRING-RANDOM-PANJANG
JWT_EXPIRES_IN=7d

# ============================================
# AWS S3 Storage (Single Bucket)
# Media files stored under media/ prefix
# KB files stored at root level
# ============================================
MINIO_ENDPOINT=s3.ap-southeast-3.amazonaws.com
MINIO_PORT=443
MINIO_USE_SSL=true
MINIO_ACCESS_KEY=YOUR_AWS_ACCESS_KEY_ID
MINIO_SECRET_KEY=YOUR_AWS_SECRET_ACCESS_KEY
MINIO_BUCKET=chat-backend-storage
AWS_REGION=ap-southeast-3

# ============================================
# n8n Security
# Generate: openssl rand -hex 24
# ⚠️ BACKUP INI! Tanpa key ini, credentials n8n tidak bisa didekripsi.
# ============================================
N8N_ENCRYPTION_KEY=

# ============================================
# n8n URLs
# ============================================
N8N_PUBLIC_URL=https://n8n.siedu.web.id
N8N_WEBHOOK_BASE=http://n8n:5678/webhook

# ============================================
# Internal API Key (API <-> n8n)
# ============================================
INTERNAL_API_KEY=GANTI-DENGAN-STRING-RANDOM

# ============================================
# Public API URL
# ============================================
PUBLIC_API_URL=https://api.yourdomain.com
